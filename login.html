<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referral Suite</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <script src="https://kit.fontawesome.com/0bddc0a0f7.js" crossorigin="anonymous"></script>
    <link href='https://fonts.googleapis.com/css?family=Advent Pro' rel='stylesheet'>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://21beckem.github.io/WebPal/WebPal.css">
    <script src="https://21beckem.github.io/WebPal/WebPal.js"></script>
    <script src="https://unpkg.com/js-alert/dist/jsalert.min.js"></script>
    <script src="script.js" dont-redirect="true" no-fox="true"></script>
    <script src="https://21beckem.github.io/SheetMap/sheetmap.js"></script>
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="/referral-suite/manifest.webmanifest">
    <meta name="theme-color" content="#462c6a">
  </head>
  <body>
    <!-- Top Bar -->
    <div id="topHeaderBar" class="w3-top w3-cell-row w3-area-blue">
      <div>
        <a>Choose your area</a>
      </div>
    </div>
    <div style="height: 35px;"></div>

    <!-- Login Buttons -->
    <div id="arealoginbuttons">
      <div style="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);">
        <div class="lds-dual-ring"></div>
      </div>
    </div>
    <script>
SheetMap.load();
SheetMap.setChangedCells({});
localStorage.removeItem('localFox');
localStorage.removeItem('debug-mode');
setCookie('dataSync', null);
setCookie('areaUser', '');
setCookie('suSync', null);
setCookie('areaUserEmail', '');
function signInAsArea(el) {
  setCookie('areaUserEmail', el.getAttribute('email'));
  setCookie('areaUser', el.innerHTML);
  safeRedirect('force-sync.html');
}
// get inboxing areas
async function fillInAreaButtons() {
  const cfg = await SYNC_getConfig();
  const arealoginbuttons = _('arealoginbuttons');
  let output = '';
  for (const [area, email] of Object.entries(cfg.inboxers)) {
    output += '<button email="'+email[0]+'" onclick="signInAsArea(this)">'+area+'</button>'
  }
  arealoginbuttons.innerHTML = output;
}
fillInAreaButtons();
    </script>
  </body>
</html>
